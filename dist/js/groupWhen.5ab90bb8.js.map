{"version":3,"file":"js/groupWhen.5ab90bb8.js","mappings":"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","sources":["webpack://mawed/./src/views/GroupWhen.vue","webpack://mawed/src/views/GroupWhen.vue","webpack://mawed/./src/views/GroupWhen.vue?5862","webpack://mawed/./src/views/GroupWhen.vue?0fe3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"create_one mt-5 position-relative\"},[_c('b-container',[_c('div',{staticClass:\"header mt-4 d-flex align-items-center justify-content-between\"},[_c('div',{staticClass:\"h4 mb-0 font-weight-normal\"},[_vm._v(_vm._s(_vm.$t(\"createGroupInvite\")))]),_c('button',{staticClass:\"fs-sm mx-3 filter_btn active\",on:{\"click\":_vm.preview}},[_c('BIcon',{staticClass:\"mr-2\",attrs:{\"icon\":\"eye\",\"scale\":\"1.5\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"previewInvite\"))+\" \")],1)]),_c('div',{staticClass:\"field_title mt-4 pt-1\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t(\"availableTimes\")))])]),_c('b-form',{staticClass:\"mt-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.next.apply(null, arguments)}}},[_c('b-row',[_c('b-col',{staticClass:\"mb-4\",attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('form-select',{directives:[{name:\"visible\",rawName:\"v-visible\",value:('duration'),expression:\"'duration'\"}],attrs:{\"label\":_vm.$t('eventDuration'),\"value\":_vm.invite.duration,\"options\":_vm.durationOptions,\"required\":\"\"},on:{\"change\":_vm.durationChanged}},[_c('BIcon',{attrs:{\"slot\":\"icon_left\",\"icon\":\"clock-history\"},slot:\"icon_left\"}),(_vm.durationPlaceholder)?_c('virtual-input',{staticClass:\"mb-0\",on:{\"click\":function($event){return _vm.$bvModal.show('DurationModal')}}},[_c('span',{staticClass:\"text-black\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(_vm._s(_vm.durationPlaceholder))]),_c('BIcon',{attrs:{\"slot\":\"icon_right\",\"icon\":\"pencil\"},slot:\"icon_right\"})],1):_vm._e()],1)],1),_c('b-col',{staticClass:\"d-none d-lg-block\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"d-flex position-absolute fs-sm text-muted\",staticStyle:{\"top\":\"25px\"},attrs:{\"data-visible\":\"duration\"}},[_c('BIcon',{staticClass:\"mt-1\",attrs:{\"icon\":\"info-circle\",\"scale\":\"1.5\"}}),_c('p',{staticClass:\"ml-3 mb-0\"},[_vm._v(_vm._s(_vm.$t(\"durationDesc\")))])],1)]),_c('b-col',{staticClass:\"mb-4\",attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('form-select',{directives:[{name:\"visible\",rawName:\"v-visible\",value:('slotIncrement'),expression:\"'slotIncrement'\"}],attrs:{\"label\":_vm.$t('timeSlotIncrement'),\"options\":_vm.slotIncrementOptions,\"required\":\"\"},model:{value:(_vm.invite.slotIncrement),callback:function ($$v) {_vm.$set(_vm.invite, \"slotIncrement\", $$v)},expression:\"invite.slotIncrement\"}},[_c('BIcon',{attrs:{\"slot\":\"icon_left\",\"icon\":\"clock\"},slot:\"icon_left\"})],1)],1),_c('b-col',{staticClass:\"d-none d-lg-block\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"d-flex position-absolute fs-sm text-muted\",staticStyle:{\"top\":\"25px\"},attrs:{\"data-visible\":\"slotIncrement\"}},[_c('BIcon',{staticClass:\"mt-1\",attrs:{\"icon\":\"info-circle\",\"scale\":\"1.5\"}}),_c('p',{staticClass:\"ml-3 mb-0\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"slotIncrementDesc\"))+\" \")])],1)]),_c('b-col',{staticClass:\"mb-4\",attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('form-select',{directives:[{name:\"visible\",rawName:\"v-visible\",value:('dateRange'),expression:\"'dateRange'\"}],attrs:{\"label\":_vm.$t('dateRange'),\"value\":_vm.dayRangeValue,\"options\":_vm.dateRangeOptions,\"required\":\"\"},on:{\"change\":_vm.dayRangeChanged}},[_c('BIcon',{attrs:{\"slot\":\"icon_left\",\"icon\":\"calendar3\"},slot:\"icon_left\"}),(!!_vm.dateRangeStr)?_c('virtual-input',{staticClass:\"mb-0\",attrs:{\"inputProps\":{ class: _vm.dateRangeStr ? 'd-inline-block w-auto' : '' }},on:{\"click\":function($event){return _vm.$bvModal.show('DateRangeModal')}}},[_c('span',{staticClass:\"text-black\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(_vm._s(_vm.dateRangeStr))]),_c('BIcon',{attrs:{\"slot\":\"icon_right\",\"icon\":\"pencil\"},slot:\"icon_right\"})],1):_vm._e()],1)],1),_c('b-col',{staticClass:\"d-none d-lg-block\",attrs:{\"cols\":\"4\"}},[_c('div',{staticClass:\"d-flex position-absolute fs-sm text-muted\",staticStyle:{\"top\":\"25px\"},attrs:{\"data-visible\":\"dateRange\"}},[_c('BIcon',{staticClass:\"mt-1\",attrs:{\"icon\":\"info-circle\",\"scale\":\"1.5\"}}),_c('p',{staticClass:\"ml-3 mb-0\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"dateRangeDesc\"))+\" \")])],1)]),_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"availability mt-4\"},[_c('div',{staticClass:\"availability_header d-flex w-100 align-items-center justify-content-between flex-wrap\"},[_c('div',{staticClass:\"text-muted font-weight-500\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"selectAvailability\")))]),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.$t('selectAvailabilityTooltip')}},[_c('BIcon',{staticClass:\"mx-2\",staticStyle:{\"opacity\":\"0.5\"},attrs:{\"icon\":\"question-circle\",\"scale\":\"1.2\"}})],1)]),_c('div',{staticClass:\"py-2 px-3 rounded-pill font-weight-500 d-flex align-items-center justify-content-center\",style:(`${_vm.invite.preventConflict ? 'background-color: #f8e71c1c; color: #948a19' : 'background-color: #ff001a1a; color: #0000008a'}`)},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.$t('doubleBookingPreventionToolTip')}},[_c('BIcon',{attrs:{\"icon\":\"info-circle\",\"scale\":\"1.2\"}})],1),_c('span',{staticClass:\"fs-sm mx-2\"},[_vm._v(_vm._s(_vm.$t(\"doubleBookingPrevention\")))]),_c('b-checkbox',{attrs:{\"switch\":\"\"},model:{value:(_vm.invite.preventConflict),callback:function ($$v) {_vm.$set(_vm.invite, \"preventConflict\", $$v)},expression:\"invite.preventConflict\"}})],1)]),_c('div',{staticClass:\"availability_body my-4\"},[_c('div',{staticClass:\"d-flex align-items-center justify-content-between flex-wrap mb-3\"},[_c('div',{staticClass:\"availability_btns_controls d-flex align-items-center justify-content-between fs-sm font-weight-600 flex-wrap\",staticStyle:{\"height\":\"35px\"}},[_c('div',{staticClass:\"before_btn d-flex align-items-center\",class:{ disabled: _vm.isPrevBtnDisabled },on:{\"click\":_vm.prevDateRange}},[(_vm.$isRtl)?_c('BIcon',{attrs:{\"icon\":\"chevron-right\"}}):_c('BIcon',{attrs:{\"icon\":\"chevron-left\"}}),_c('span',{staticClass:\"mx-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"before\"))+\" \"),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(_vm._s(_vm.FDOL.format(\"MMM D\")))])])],1),_c('div',{staticClass:\"after_btn d-flex align-items-center ml-4\",class:{ disabled: _vm.isNextBtnDisabled },on:{\"click\":_vm.nextDateRange}},[_c('span',{staticClass:\"mx-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"after\"))+\" \"),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(_vm._s(_vm.EDOL.format(\"MMM D\")))])]),(_vm.$isRtl)?_c('BIcon',{attrs:{\"icon\":\"chevron-left\"}}):_c('BIcon',{attrs:{\"icon\":\"chevron-right\"}})],1),(_vm.isNextBtnDisabled)?_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"extend_btn d-flex align-items-center ml-4\",attrs:{\"title\":_vm.$t('extendTooltip')},on:{\"click\":_vm.extendDateRange}},[_c('BIcon',{attrs:{\"icon\":\"plus-lg\"}}),_c('span',{staticClass:\"mx-1\"},[_vm._v(_vm._s(_vm.$t(\"extend\"))+\" \"),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(_vm._s(_vm.$t(\"dateRange\")))])])],1):_vm._e()]),_c('div',{staticClass:\"availablity_timezone_control d-flex align-items-center\"},[_c('time-zones',{model:{value:(_vm.invite.timezone),callback:function ($$v) {_vm.$set(_vm.invite, \"timezone\", $$v)},expression:\"invite.timezone\"}}),_c('span',{staticClass:\"btn_icon ml-2\"},[_c('NotAllowIcon',{staticStyle:{\"fill\":\"#5e5e5e\"},attrs:{\"width\":\"1.5rem\"}})],1)],1)]),_c('b-list-group',_vm._l((_vm.range),function(date,i){return _c('AvailableItem',{key:i,attrs:{\"date\":date,\"availableDates\":_vm.availableDates},on:{\"click\":_vm.openAvailabilityModal}})}),1)],1)])])],1)],1)],1),_c('div',{staticClass:\"footer_control bg-white border-top w-100\"},[_c('b-container',{staticClass:\"h-100\"},[_c('div',{staticClass:\"d-flex justify-content-end align-items-center h-100\"},[_c('b-button',{staticClass:\"filter_btn active mr-3 font-weight-500\",attrs:{\"size\":\"sm\"},on:{\"click\":_vm.back}},[_c('BIcon',{staticClass:\"mr-2\",attrs:{\"icon\":`${!_vm.$isRtl ? 'chevron-left' : 'chevron-right'}`,\"scale\":\"0.8\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"back\"))+\" \")],1),_c('b-button',{staticClass:\"px-3\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\" \"+_vm._s(_vm.$t(\"next\"))+\" \")])],1)])],1),_c('DurationModal',{model:{value:(_vm.invite.duration),callback:function ($$v) {_vm.$set(_vm.invite, \"duration\", $$v)},expression:\"invite.duration\"}}),_c('DateRangeModal',{attrs:{\"value\":_vm.invite.dateRange},on:{\"submit\":_vm.dateRangeChanged}}),_c('AvailabilityModal',{ref:\"availabilityModal\",attrs:{\"duration\":_vm.invite.duration},on:{\"submit\":_vm.availableDateChanged}}),_c('PreviewInvite',{ref:\"preview\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"create_one mt-5 position-relative\">\n\t\t<b-container>\n\t\t\t<div class=\"header mt-4 d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"h4 mb-0 font-weight-normal\">{{ $t(\"createGroupInvite\") }}</div>\n\t\t\t\t<button class=\"fs-sm mx-3 filter_btn active\" @click=\"preview\">\n\t\t\t\t\t<BIcon icon=\"eye\" scale=\"1.5\" class=\"mr-2\" />\n\t\t\t\t\t{{ $t(\"previewInvite\") }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"field_title mt-4 pt-1\">\n\t\t\t\t<div class=\"title\">{{ $t(\"availableTimes\") }}</div>\n\t\t\t</div>\n\t\t\t<b-form class=\"mt-4\" @submit.prevent=\"next\">\n\t\t\t\t<b-row>\n\t\t\t\t\t<!-- Invite duration -->\n\t\t\t\t\t<b-col cols=\"12\" lg=\"8\" class=\"mb-4\">\n\t\t\t\t\t\t<form-select :label=\"$t('eventDuration')\" :value=\"invite.duration\" :options=\"durationOptions\" @change=\"durationChanged\" required v-visible=\"'duration'\">\n\t\t\t\t\t\t\t<BIcon slot=\"icon_left\" icon=\"clock-history\" />\n\t\t\t\t\t\t\t<virtual-input v-if=\"durationPlaceholder\" @click=\"$bvModal.show('DurationModal')\" class=\"mb-0\">\n\t\t\t\t\t\t\t\t<span slot=\"placeholder\" class=\"text-black\">{{ durationPlaceholder }}</span>\n\t\t\t\t\t\t\t\t<BIcon slot=\"icon_right\" icon=\"pencil\" />\n\t\t\t\t\t\t\t</virtual-input>\n\t\t\t\t\t\t</form-select>\n\t\t\t\t\t</b-col>\n\t\t\t\t\t<b-col cols=\"4\" class=\"d-none d-lg-block\">\n\t\t\t\t\t\t<div class=\"d-flex position-absolute fs-sm text-muted\" style=\"top: 25px\" data-visible=\"duration\">\n\t\t\t\t\t\t\t<BIcon icon=\"info-circle\" scale=\"1.5\" class=\"mt-1\" />\n\t\t\t\t\t\t\t<p class=\"ml-3 mb-0\">{{ $t(\"durationDesc\") }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</b-col>\n\n\t\t\t\t\t<!-- Invite slotIncrement -->\n\t\t\t\t\t<b-col cols=\"12\" lg=\"8\" class=\"mb-4\">\n\t\t\t\t\t\t<form-select :label=\"$t('timeSlotIncrement')\" v-model=\"invite.slotIncrement\" :options=\"slotIncrementOptions\" required v-visible=\"'slotIncrement'\">\n\t\t\t\t\t\t\t<BIcon slot=\"icon_left\" icon=\"clock\" />\n\t\t\t\t\t\t</form-select>\n\t\t\t\t\t</b-col>\n\t\t\t\t\t<b-col cols=\"4\" class=\"d-none d-lg-block\">\n\t\t\t\t\t\t<div class=\"d-flex position-absolute fs-sm text-muted\" style=\"top: 25px\" data-visible=\"slotIncrement\">\n\t\t\t\t\t\t\t<BIcon icon=\"info-circle\" scale=\"1.5\" class=\"mt-1\" />\n\t\t\t\t\t\t\t<p class=\"ml-3 mb-0\">\n\t\t\t\t\t\t\t\t{{ $t(\"slotIncrementDesc\") }}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</b-col>\n\n\t\t\t\t\t<!-- Invite dateRange -->\n\t\t\t\t\t<b-col cols=\"12\" lg=\"8\" class=\"mb-4\">\n\t\t\t\t\t\t<form-select :label=\"$t('dateRange')\" :value=\"dayRangeValue\" :options=\"dateRangeOptions\" @change=\"dayRangeChanged\" required v-visible=\"'dateRange'\">\n\t\t\t\t\t\t\t<BIcon slot=\"icon_left\" icon=\"calendar3\" />\n\t\t\t\t\t\t\t<virtual-input v-if=\"!!dateRangeStr\" @click=\"$bvModal.show('DateRangeModal')\" class=\"mb-0\" :inputProps=\"{ class: dateRangeStr ? 'd-inline-block w-auto' : '' }\">\n\t\t\t\t\t\t\t\t<span slot=\"placeholder\" class=\"text-black\">{{ dateRangeStr }}</span>\n\t\t\t\t\t\t\t\t<BIcon slot=\"icon_right\" icon=\"pencil\" />\n\t\t\t\t\t\t\t</virtual-input>\n\t\t\t\t\t\t</form-select>\n\t\t\t\t\t</b-col>\n\t\t\t\t\t<b-col cols=\"4\" class=\"d-none d-lg-block\">\n\t\t\t\t\t\t<div class=\"d-flex position-absolute fs-sm text-muted\" style=\"top: 25px\" data-visible=\"dateRange\">\n\t\t\t\t\t\t\t<BIcon icon=\"info-circle\" scale=\"1.5\" class=\"mt-1\" />\n\t\t\t\t\t\t\t<p class=\"ml-3 mb-0\">\n\t\t\t\t\t\t\t\t{{ $t(\"dateRangeDesc\") }}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</b-col>\n\n\t\t\t\t\t<!-- Select Availability -->\n\t\t\t\t\t<b-col cols=\"12\">\n\t\t\t\t\t\t<div class=\"availability mt-4\">\n\t\t\t\t\t\t\t<div class=\"availability_header d-flex w-100 align-items-center justify-content-between flex-wrap\">\n\t\t\t\t\t\t\t\t<div class=\"text-muted font-weight-500\">\n\t\t\t\t\t\t\t\t\t<span>{{ $t(\"selectAvailability\") }}</span>\n\t\t\t\t\t\t\t\t\t<span v-b-tooltip.hover :title=\"$t('selectAvailabilityTooltip')\">\n\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"question-circle\" scale=\"1.2\" class=\"mx-2\" style=\"opacity: 0.5\" />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"py-2 px-3 rounded-pill font-weight-500 d-flex align-items-center justify-content-center\"\n\t\t\t\t\t\t\t\t\t:style=\"`${invite.preventConflict ? 'background-color: #f8e71c1c; color: #948a19' : 'background-color: #ff001a1a; color: #0000008a'}`\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span v-b-tooltip.hover :title=\"$t('doubleBookingPreventionToolTip')\">\n\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"info-circle\" scale=\"1.2\" />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class=\"fs-sm mx-2\">{{ $t(\"doubleBookingPrevention\") }}</span>\n\t\t\t\t\t\t\t\t\t<b-checkbox switch v-model=\"invite.preventConflict\"></b-checkbox>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"availability_body my-4\">\n\t\t\t\t\t\t\t\t<div class=\"d-flex align-items-center justify-content-between flex-wrap mb-3\">\n\t\t\t\t\t\t\t\t\t<div class=\"availability_btns_controls d-flex align-items-center justify-content-between fs-sm font-weight-600 flex-wrap\" style=\"height: 35px\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"before_btn d-flex align-items-center\" @click=\"prevDateRange\" :class=\"{ disabled: isPrevBtnDisabled }\">\n\t\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"chevron-right\" v-if=\"$isRtl\" />\n\t\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"chevron-left\" v-else />\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"mx-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"before\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"d-none d-sm-inline-block\">{{ FDOL.format(\"MMM D\") }}</span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"after_btn d-flex align-items-center ml-4\" @click=\"nextDateRange\" :class=\"{ disabled: isNextBtnDisabled }\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"mx-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{ $t(\"after\") }}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"d-none d-sm-inline-block\">{{ EDOL.format(\"MMM D\") }}</span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"chevron-left\" v-if=\"$isRtl\" />\n\t\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"chevron-right\" v-else />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"extend_btn d-flex align-items-center ml-4\"\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isNextBtnDisabled\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"extendDateRange\"\n\t\t\t\t\t\t\t\t\t\t\tv-b-tooltip.hover\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$t('extendTooltip')\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"plus-lg\" />\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"mx-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{{ $t(\"extend\") }} <span class=\"d-none d-sm-inline-block\">{{ $t(\"dateRange\") }}</span></span\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"availablity_timezone_control d-flex align-items-center\">\n\t\t\t\t\t\t\t\t\t\t<time-zones v-model=\"invite.timezone\"></time-zones>\n\t\t\t\t\t\t\t\t\t\t<span class=\"btn_icon ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t<NotAllowIcon width=\"1.5rem\" style=\"fill: #5e5e5e\" />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<b-list-group>\n\t\t\t\t\t\t\t\t\t<AvailableItem v-for=\"(date, i) in range\" :key=\"i\" :date=\"date\" :availableDates=\"availableDates\" @click=\"openAvailabilityModal\" />\n\t\t\t\t\t\t\t\t</b-list-group>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</b-col>\n\t\t\t\t</b-row>\n\t\t\t</b-form>\n\t\t</b-container>\n\t\t<div class=\"footer_control bg-white border-top w-100\">\n\t\t\t<b-container class=\"h-100\">\n\t\t\t\t<div class=\"d-flex justify-content-end align-items-center h-100\">\n\t\t\t\t\t<b-button class=\"filter_btn active mr-3 font-weight-500\" size=\"sm\" @click=\"back\">\n\t\t\t\t\t\t<BIcon :icon=\"`${!$isRtl ? 'chevron-left' : 'chevron-right'}`\" scale=\"0.8\" class=\"mr-2\" />\n\t\t\t\t\t\t{{ $t(\"back\") }}\n\t\t\t\t\t</b-button>\n\t\t\t\t\t<b-button variant=\"primary\" @click=\"next\" class=\"px-3\"> {{ $t(\"next\") }} </b-button>\n\t\t\t\t</div>\n\t\t\t</b-container>\n\t\t</div>\n\t\t<DurationModal v-model=\"invite.duration\" />\n\t\t<DateRangeModal :value=\"invite.dateRange\" @submit=\"dateRangeChanged\" />\n\t\t<AvailabilityModal :duration=\"invite.duration\" ref=\"availabilityModal\" @submit=\"availableDateChanged\" />\n\t\t<PreviewInvite ref=\"preview\" />\n\t</div>\n</template>\n\n<script>\n\timport FormInput from \"@/components/inputs/FormInput\";\n\timport FormSelect from \"@/components/inputs/FormSelect\";\n\timport FormTextArea from \"@/components/inputs/FormTextArea\";\n\timport VirtualInput from \"@/components/inputs/VirtualInput\";\n\timport TimeZones from \"@/components/TimeZones\";\n\timport CameraPlus from \"@/components/icons/cameraPlus\";\n\timport ZoomIcon from \"@/components/icons/zoom\";\n\timport GoogleMeetIcon from \"@/components/icons/googleMeet\";\n\timport URLModal from \"@/components/modals/URLModal\";\n\timport DurationModal from \"@/components/modals/DurationModal\";\n\timport DateRangeModal from \"@/components/modals/DateRangeModal\";\n\timport AvailabilityModal from \"@/components/modals/AvailabilityModal\";\n\timport NotAllowIcon from \"@/components/icons/notAllow.vue\";\n\timport PreviewInvite from \"@/components/PreviewInvite\";\n\n\timport { RRule, RRuleSet, rrulestr } from \"rrule\";\n\n\timport { validationMixin } from \"vuelidate\";\n\n\timport { required } from \"vuelidate/lib/validators\";\n\n\timport AvailableItem from \"@/components/AvailableItem.vue\";\n\n\timport store from \"@/store\";\n\n\texport default {\n\t\tcomponents: {\n\t\t\tFormInput,\n\t\t\tFormTextArea,\n\t\t\tVirtualInput,\n\t\t\tCameraPlus,\n\t\t\tZoomIcon,\n\t\t\tGoogleMeetIcon,\n\t\t\tURLModal,\n\t\t\tDurationModal,\n\t\t\tDateRangeModal,\n\t\t\tFormSelect,\n\t\t\tAvailabilityModal,\n\t\t\tTimeZones,\n\t\t\tNotAllowIcon,\n\t\t\tAvailableItem,\n\t\t\tPreviewInvite,\n\t\t},\n\n\t\tmixins: [validationMixin],\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tinvite: {\n\t\t\t\t\tduration: 30,\n\t\t\t\t\tslotIncrement: 30,\n\t\t\t\t\tdateRange: { type: \"days\", start: this.$moment().utc().startOf(\"date\"), end: this.$moment().utc().add(6, \"d\").startOf(\"date\") },\n\t\t\t\t\ttimezone: \"\",\n\t\t\t\t\tpreventConflict: true,\n\t\t\t\t\tavailability: [],\n\t\t\t\t},\n\t\t\t\tfirstDateOfList: this.$moment().utc().startOf(\"date\"),\n\t\t\t};\n\t\t},\n\n\t\tvalidations: {\n\t\t\tinvite: {\n\t\t\t\tduration: { required },\n\t\t\t\tslotIncrement: {},\n\t\t\t\tdateRange: {},\n\t\t\t\ttimezone: {},\n\t\t\t\tpreventConflict: {},\n\t\t\t\tavailability: {},\n\t\t\t},\n\t\t},\n\n\t\twatch: {\n\t\t\t\"invite.dateRange.start\"(val) {\n\t\t\t\tthis.firstDateOfList = val;\n\t\t\t},\n\t\t\t\"invite.dateRange\": {\n\t\t\t\thandler(newValue, oldValue) {\n\t\t\t\t\tlet { start, end, type } = newValue;\n\n\t\t\t\t\tlet availability = [];\n\n\t\t\t\t\tfor (let available of this.invite.availability) {\n\t\t\t\t\t\tif (type == \"indefinite\") {\n\t\t\t\t\t\t\tavailable.rrule = available.rrule.replace(/(;UNTIL=.+Z)|(UNTIL=.+Z)/g, \"\");\n\n\t\t\t\t\t\t\tavailability.push(available);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet rruleSet = rrulestr(available.rrule);\n\n\t\t\t\t\t\tif (rruleSet.toString().indexOf(\"RDATE\") != -1) {\n\t\t\t\t\t\t\tlet singleDate = rruleSet.all()[0];\n\n\t\t\t\t\t\t\tsingleDate = this.$moment(singleDate).utc().startOf(\"date\");\n\n\t\t\t\t\t\t\tif (singleDate.isBefore(start, \"date\") || singleDate.isAfter(end, \"date\")) continue;\n\n\t\t\t\t\t\t\tavailability.push(available);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet startRegex = /DTSTART:(.+)Z\\\\/g;\n\n\t\t\t\t\t\tlet untilRegex = /UNTIL=(.+)Z/g;\n\n\t\t\t\t\t\tavailable.rrule = available.rrule.replace(startRegex, `DTSTART:${start.locale(\"en\").format(\"YYYYMMDDTHHmmss\")}Z\\\\`);\n\n\t\t\t\t\t\tif (oldValue.type == \"indefinite\") {\n\t\t\t\t\t\t\tavailable.rrule = available.rrule + `;UNTIL=${end.locale(\"en\").format(\"YYYYMMDDTHHmmss\")}Z`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tavailable.rrule = available.rrule.replace(untilRegex, `UNTIL=${end.locale(\"en\").format(\"YYYYMMDDTHHmmss\")}Z`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tavailability.push(available);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.invite.availability = availability;\n\t\t\t\t},\n\t\t\t\tdeep: true,\n\t\t\t},\n\t\t},\n\n\t\tasync beforeRouteEnter(to, from, next) {\n\t\t\tlet invite = store.state.invites.one;\n\n\t\t\tif (!invite.name) return next(\"/create/group\");\n\n\t\t\tnext((vm) => vm.init(invite));\n\t\t},\n\n\t\tcomputed: {\n\t\t\tdurationOptions() {\n\t\t\t\treturn this.$store.state.invites.durationOptions;\n\t\t\t},\n\n\t\t\tdurationPlaceholder() {\n\t\t\t\tlet isCustom = !this.durationOptions.some((d) => d.value == this.invite.duration);\n\n\t\t\t\tif (!isCustom) return \"\";\n\n\t\t\t\tlet minutes = this.invite.duration;\n\n\t\t\t\tif (minutes < 60) return this.$moment.duration(minutes, \"minutes\").humanize();\n\n\t\t\t\tlet hours = Math.floor(minutes / 60);\n\n\t\t\t\tminutes = minutes % 60;\n\n\t\t\t\tif (minutes === 0) return this.$moment.duration(hours, \"hours\").humanize();\n\n\t\t\t\thours = this.$moment.duration(hours, \"hours\").humanize();\n\n\t\t\t\tminutes = this.$moment.duration(minutes, \"minutes\").humanize();\n\n\t\t\t\tlet separator = this.$isRtl ? \" و \" : \" \";\n\n\t\t\t\treturn hours + separator + minutes;\n\t\t\t},\n\n\t\t\tslotIncrementOptions() {\n\t\t\t\treturn this.$store.state.invites.slotIncrementOptions;\n\t\t\t},\n\n\t\t\tdateRangeOptions() {\n\t\t\t\treturn this.$store.state.invites.dateRangeOptions;\n\t\t\t},\n\n\t\t\tdateRangeStr() {\n\t\t\t\tlet { type, start, end } = this.invite.dateRange;\n\n\t\t\t\tif (type == \"indefinite\") return this.$t(\"indefinite\");\n\n\t\t\t\tif (type == \"days\") {\n\t\t\t\t\tlet days = end.clone().diff(start, \"days\");\n\n\t\t\t\t\tif ([3, 7, 31].includes(days)) return \"\";\n\n\t\t\t\t\treturn this.$moment.duration(days, \"days\").humanize() + \" \" + this.$t(\"intoFuture\");\n\t\t\t\t}\n\n\t\t\t\tif (type == \"specific\") {\n\t\t\t\t\tconst isSameYear = (date) => date.year() === this.$moment().year();\n\n\t\t\t\t\tstart = start.format(`MMM D${isSameYear(start) ? \"\" : \", YYYY\"}`);\n\n\t\t\t\t\tend = end\n\t\t\t\t\t\t.clone()\n\t\t\t\t\t\t.add(-1, \"d\")\n\t\t\t\t\t\t.format(`MMM D${isSameYear(end) ? \"\" : \", YYYY\"}`);\n\n\t\t\t\t\tif (start === end) return start;\n\n\t\t\t\t\treturn `${start} - ${end}`;\n\t\t\t\t}\n\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\t// First Day of List\n\t\t\tFDOL() {\n\t\t\t\tlet { start } = this.invite.dateRange;\n\n\t\t\t\treturn start.isSameOrAfter(this.firstDateOfList) ? start.clone() : this.firstDateOfList;\n\t\t\t},\n\n\t\t\t// End Day of List\n\t\t\tEDOL() {\n\t\t\t\tlet { end, type } = this.invite.dateRange;\n\n\t\t\t\tlet EDOL = this.firstDateOfList.clone().add(7, \"d\");\n\n\t\t\t\tif (type == \"indefinite\") return EDOL.clone().add(-1, \"d\");\n\n\t\t\t\tEDOL = end.isSameOrBefore(EDOL) ? end.clone() : EDOL;\n\n\t\t\t\treturn EDOL.clone().add(-1, \"d\");\n\t\t\t},\n\n\t\t\tuntil() {\n\t\t\t\tif (this.invite.dateRange.type == \"indefinite\") return null;\n\n\t\t\t\treturn this.invite.dateRange.end.clone();\n\t\t\t},\n\n\t\t\trange() {\n\t\t\t\tif (!this.FDOL.isValid() || !this.EDOL.isValid()) return [];\n\n\t\t\t\tlet start = this.FDOL.clone();\n\n\t\t\t\tlet end = this.EDOL.clone();\n\n\t\t\t\tlet range = [];\n\n\t\t\t\twhile (start.isSameOrBefore(end)) {\n\t\t\t\t\trange.push(start.clone());\n\t\t\t\t\tstart.add(1, \"d\");\n\t\t\t\t}\n\n\t\t\t\treturn range;\n\t\t\t},\n\n\t\t\tavailableDates() {\n\t\t\t\treturn this.invite.availability.map((av) => {\n\t\t\t\t\tlet rruleSet = rrulestr(av.rrule);\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tduration: av.duration,\n\t\t\t\t\t\tdates: rruleSet.between(this.FDOL.toDate(), this.EDOL.clone().add(1, \"d\").toDate()),\n\t\t\t\t\t\trruleSet,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tdayRangeValue: {\n\t\t\t\tget() {\n\t\t\t\t\tlet { start, end, type } = this.invite.dateRange;\n\n\t\t\t\t\tif (type == \"indefinite\") return 6;\n\n\t\t\t\t\treturn end.clone().diff(start, \"days\");\n\t\t\t\t},\n\t\t\t\tset(days) {\n\t\t\t\t\tlet start = this.$moment().utc().startOf(\"date\");\n\n\t\t\t\t\tlet end = this.$moment().utc().add(days, \"d\").startOf(\"date\");\n\n\t\t\t\t\tthis.invite.dateRange = { type: \"days\", start, end };\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tisNextBtnDisabled() {\n\t\t\t\tlet { end, type } = this.invite.dateRange;\n\n\t\t\t\tif (type == \"indefinite\") return false;\n\n\t\t\t\tlet EDOL = this.EDOL.clone().add(1, \"d\");\n\n\t\t\t\treturn end.isBetween(this.FDOL, EDOL) || end.isSame(EDOL, \"d\");\n\t\t\t},\n\n\t\t\tisPrevBtnDisabled() {\n\t\t\t\tlet { start } = this.invite.dateRange;\n\n\t\t\t\treturn start.isSame(this.FDOL, \"d\");\n\t\t\t},\n\t\t},\n\n\t\tmethods: {\n\t\t\tinit(invite) {\n\t\t\t\tfor (let key in invite) {\n\t\t\t\t\tthis.invite[key] = invite[key];\n\t\t\t\t}\n\n\t\t\t\tthis.firstDateOfList = this.invite.dateRange.start.clone();\n\t\t\t},\n\n\t\t\tdurationChanged(value) {\n\t\t\t\tif (value == \"custom\") return this.$bvModal.show(\"DurationModal\");\n\n\t\t\t\tthis.invite.duration = value;\n\t\t\t},\n\n\t\t\tdayRangeChanged(value) {\n\t\t\t\tif (value == \"custom\") return this.$bvModal.show(\"DateRangeModal\");\n\n\t\t\t\tthis.dayRangeValue = value;\n\t\t\t},\n\n\t\t\tdateRangeChanged(value) {\n\t\t\t\tthis.invite.dateRange = value;\n\t\t\t},\n\n\t\t\tnextDateRange() {\n\t\t\t\tlet { end, type } = this.invite.dateRange;\n\n\t\t\t\tlet FDOL = this.firstDateOfList.clone().add(7, \"d\");\n\n\t\t\t\tif (type != \"indefinite\" && end.isSameOrBefore(FDOL)) {\n\t\t\t\t\tFDOL = end.clone();\n\t\t\t\t}\n\n\t\t\t\tthis.firstDateOfList = FDOL;\n\t\t\t},\n\n\t\t\tprevDateRange() {\n\t\t\t\tlet { start } = this.invite.dateRange;\n\n\t\t\t\tlet FDOL = this.firstDateOfList.clone().subtract(7, \"d\");\n\n\t\t\t\tthis.firstDateOfList = start.isSameOrAfter(FDOL) ? start.clone() : FDOL;\n\t\t\t},\n\n\t\t\textendDateRange() {\n\t\t\t\tthis.invite.dateRange.end = this.invite.dateRange.end.clone().add(7, \"d\");\n\t\t\t},\n\n\t\t\topenAvailabilityModal(available) {\n\t\t\t\tthis.$refs.availabilityModal.show(available);\n\t\t\t},\n\n\t\t\thourAndMinute(number) {\n\t\t\t\tlet hour = Math.floor(number);\n\n\t\t\t\tlet minute = Math.round((number - hour) * 60);\n\n\t\t\t\treturn { hour, minute };\n\t\t\t},\n\n\t\t\tavailableDateChanged(value) {\n\t\t\t\tlet availability = [];\n\n\t\t\t\tlet isAvailableExist = (available) => !!availability.find((av) => av.duration == available.duration && av.rrule == available.rrule);\n\n\t\t\t\tlet { date, intervals, repeats } = value;\n\n\t\t\t\tif (this.invite.availability.length == 0) {\n\t\t\t\t\tif (repeats == \"only\") {\n\t\t\t\t\t\tfor (let interval of intervals) {\n\t\t\t\t\t\t\tlet { start, end } = interval;\n\n\t\t\t\t\t\t\tlet minutes = (end - start) * 60;\n\n\t\t\t\t\t\t\tlet { hour, minute } = this.hourAndMinute(start);\n\n\t\t\t\t\t\t\tlet rdate = \"RDATE:\" + date.clone().hour(hour).minute(minute).locale(\"en\").format(\"YYYYMMDDTHHmmss\") + \"Z\";\n\n\t\t\t\t\t\t\tlet av = { duration: minutes, rrule: rdate };\n\n\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (repeats == \"all\") {\n\t\t\t\t\t\tfor (let interval of intervals) {\n\t\t\t\t\t\t\tlet { start, end } = interval;\n\n\t\t\t\t\t\t\tlet minutes = (end - start) * 60;\n\n\t\t\t\t\t\t\tlet { hour, minute } = this.hourAndMinute(start);\n\n\t\t\t\t\t\t\tlet rruleSet = new RRuleSet();\n\n\t\t\t\t\t\t\trruleSet.rrule(\n\t\t\t\t\t\t\t\tnew RRule({\n\t\t\t\t\t\t\t\t\tfreq: RRule.WEEKLY,\n\t\t\t\t\t\t\t\t\tdtstart: this.invite.dateRange.start.clone().toDate(),\n\t\t\t\t\t\t\t\t\tuntil: this.invite.dateRange.end.clone().toDate(),\n\t\t\t\t\t\t\t\t\tbyweekday: [date.clone().weekday()],\n\t\t\t\t\t\t\t\t\tbyhour: [hour],\n\t\t\t\t\t\t\t\t\tbyminute: [minute],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tlet av = { duration: minutes, rrule: rruleSet.toString() };\n\n\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (repeats == \"weekdays\") {\n\t\t\t\t\t\tfor (let interval of intervals) {\n\t\t\t\t\t\t\tlet { start, end } = interval;\n\n\t\t\t\t\t\t\tlet minutes = (end - start) * 60;\n\n\t\t\t\t\t\t\tlet { hour, minute } = this.hourAndMinute(start);\n\n\t\t\t\t\t\t\tlet rruleSet = new RRuleSet();\n\n\t\t\t\t\t\t\trruleSet.rrule(\n\t\t\t\t\t\t\t\tnew RRule({\n\t\t\t\t\t\t\t\t\tfreq: RRule.WEEKLY,\n\t\t\t\t\t\t\t\t\tdtstart: this.invite.dateRange.start.clone().toDate(),\n\t\t\t\t\t\t\t\t\tuntil: this.invite.dateRange.end.clone().toDate(),\n\t\t\t\t\t\t\t\t\tbyweekday: [RRule.MO, RRule.TU, RRule.WE, RRule.TH, RRule.FR],\n\t\t\t\t\t\t\t\t\tbyhour: [hour],\n\t\t\t\t\t\t\t\t\tbyminute: [minute],\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tlet av = { duration: minutes, rrule: rruleSet.toString() };\n\n\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.invite.availability = availability;\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet isValueAdded = false;\n\n\t\t\t\tif (intervals.length == 0) {\n\t\t\t\t\tisValueAdded = true;\n\t\t\t\t}\n\n\t\t\t\tlet weekdayStr = date.clone().locale(\"en\").format(\"dd\").toUpperCase();\n\n\t\t\t\tfor (let available of this.invite.availability) {\n\t\t\t\t\tlet { duration, rrule } = available;\n\n\t\t\t\t\t/*\n\t\t\t\t\t\tweekdays: MO, TU, WE, TH, FR\n\t\t\t\t\t\tDTSTART:20220814T000000Z\\nRRULE:FREQ=WEEKLY;BYDAY=TU,WE,TH,FR;BYHOUR=9;BYMINUTE=0;UNTIL=20220821T000000Z\n\n\t\t\t\t\t\tall: one of [MO, TU, WE, TH, FR, SA, SU]\n\t\t\t\t\t\tDTSTART:20220814T000000Z\\nRRULE:FREQ=WEEKLY;UNTIL=20220821T000000Z;BYDAY=MO;BYHOUR=6;BYMINUTE=0\n\n\t\t\t\t\t\tonly day\n\t\t\t\t\t\tRDATE:20220815T040000Z\n\t\t\t\t\t*/\n\n\t\t\t\t\tlet rruleType = \"\",\n\t\t\t\t\t\tweekdays = this.weekdaysFromRRuleString(rrule),\n\t\t\t\t\t\thour,\n\t\t\t\t\t\tminute,\n\t\t\t\t\t\trruleHasExclude = rrule.indexOf(\"EXDATE\") != -1,\n\t\t\t\t\t\tdateExStr = \"\",\n\t\t\t\t\t\texDates = [];\n\n\t\t\t\t\tif (weekdays.length == 0) {\n\t\t\t\t\t\trruleType = \"only\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\trruleType = weekdays.length == 1 ? \"all\" : \"weekdays\";\n\t\t\t\t\t\tlet match = rrule.match(/BYHOUR=(\\d+);BYMINUTE=(\\d+)/);\n\t\t\t\t\t\thour = +match[1];\n\t\t\t\t\t\tminute = +match[2];\n\t\t\t\t\t\tdateExStr = date.clone().set({ hour, minute }).locale(\"en\").format(\"YYYYMMDDTHHmmss\") + \"Z\";\n\t\t\t\t\t\texDates = this.exDatesFromRRuleString(rrule);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (repeats == \"only\") {\n\t\t\t\t\t\tif (!isValueAdded) {\n\t\t\t\t\t\t\tfor (let interval of intervals) {\n\t\t\t\t\t\t\t\tlet { start, end } = interval;\n\n\t\t\t\t\t\t\t\tlet minutes = (end - start) * 60;\n\n\t\t\t\t\t\t\t\tlet { hour, minute } = this.hourAndMinute(start);\n\n\t\t\t\t\t\t\t\tlet rdate = \"RDATE:\" + date.clone().hour(hour).minute(minute).locale(\"en\").format(\"YYYYMMDDTHHmmss\") + \"Z\";\n\n\t\t\t\t\t\t\t\tlet av = { duration: minutes, rrule: rdate };\n\n\t\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tisValueAdded = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (rruleType == \"only\") {\n\t\t\t\t\t\t\tlet rruleDate = this.momentFromRdate(rrule);\n\n\t\t\t\t\t\t\tif (!rruleDate.isSame(date, \"d\")) {\n\t\t\t\t\t\t\t\tif (!isAvailableExist(available)) availability.push(available);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (weekdays.includes(weekdayStr)) {\n\t\t\t\t\t\t\tif (rruleHasExclude) {\n\t\t\t\t\t\t\t\tif (!exDates.includes(dateExStr)) {\n\t\t\t\t\t\t\t\t\trrule += \",\" + dateExStr;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trrule += \"\\nEXDATE:\" + dateExStr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet av = { duration, rrule };\n\n\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t} else if (repeats == \"all\") {\n\t\t\t\t\t\tif (!isValueAdded) {\n\t\t\t\t\t\t\tfor (let interval of intervals) {\n\t\t\t\t\t\t\t\tlet { start, end } = interval;\n\n\t\t\t\t\t\t\t\tlet minutes = (end - start) * 60;\n\n\t\t\t\t\t\t\t\tlet { hour, minute } = this.hourAndMinute(start);\n\n\t\t\t\t\t\t\t\tlet rruleSet = new RRuleSet();\n\n\t\t\t\t\t\t\t\trruleSet.rrule(\n\t\t\t\t\t\t\t\t\tnew RRule({\n\t\t\t\t\t\t\t\t\t\tfreq: RRule.WEEKLY,\n\t\t\t\t\t\t\t\t\t\tdtstart: this.invite.dateRange.start.clone().toDate(),\n\t\t\t\t\t\t\t\t\t\tuntil: this.invite.dateRange.end.clone().toDate(),\n\t\t\t\t\t\t\t\t\t\tbyweekday: [date.clone().weekday()],\n\t\t\t\t\t\t\t\t\t\tbyhour: [hour],\n\t\t\t\t\t\t\t\t\t\tbyminute: [minute],\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tlet av = { duration: minutes, rrule: rruleSet.toString() };\n\n\t\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tisValueAdded = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (rruleType == \"only\") {\n\t\t\t\t\t\t\tif (this.momentFromRdate(rrule).weekday() != date.weekday()) {\n\t\t\t\t\t\t\t\tif (!isAvailableExist(available)) availability.push(available);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (rruleType == \"all\") {\n\t\t\t\t\t\t\tif (weekdays[0] != weekdayStr) {\n\t\t\t\t\t\t\t\tif (rruleHasExclude) {\n\t\t\t\t\t\t\t\t\tif (exDates.includes(dateExStr)) {\n\t\t\t\t\t\t\t\t\t\tif (exDates.length == 1) {\n\t\t\t\t\t\t\t\t\t\t\trrule = rrule.replace(/\\nEXDATE:.*/, \"\");\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tlet dates = exDates.filter((exDate) => exDate != dateExStr).join(\",\");\n\n\t\t\t\t\t\t\t\t\t\t\trrule = rrule.replace(/\\nEXDATE:.*/, \"\\nEXDATE:\" + dates);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tlet av = { duration, rrule };\n\n\t\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (rruleType == \"weekdays\") {\n\t\t\t\t\t\t\tif (rruleHasExclude) {\n\t\t\t\t\t\t\t\tif (exDates.includes(dateExStr)) {\n\t\t\t\t\t\t\t\t\tif (exDates.length == 1) {\n\t\t\t\t\t\t\t\t\t\trrule = rrule.replace(/\\nEXDATE:.*/, \"\");\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tlet dates = exDates.filter((exDate) => exDate != dateExStr).join(\",\");\n\n\t\t\t\t\t\t\t\t\t\trrule = rrule.replace(/\\nEXDATE:.*/, \"\\nEXDATE:\" + dates);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (weekdays.includes(weekdayStr)) {\n\t\t\t\t\t\t\t\tlet weekdayRegExp = new RegExp(`,${weekdayStr}|${weekdayStr},`, \"g\");\n\n\t\t\t\t\t\t\t\trrule = rrule.replace(weekdayRegExp, \"\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet av = { duration, rrule };\n\n\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (repeats == \"weekdays\") {\n\t\t\t\t\t\tif (!isValueAdded) {\n\t\t\t\t\t\t\tfor (let interval of intervals) {\n\t\t\t\t\t\t\t\tlet { start, end } = interval;\n\n\t\t\t\t\t\t\t\tlet minutes = (end - start) * 60;\n\n\t\t\t\t\t\t\t\tlet { hour, minute } = this.hourAndMinute(start);\n\n\t\t\t\t\t\t\t\tlet rruleSet = new RRuleSet();\n\n\t\t\t\t\t\t\t\trruleSet.rrule(\n\t\t\t\t\t\t\t\t\tnew RRule({\n\t\t\t\t\t\t\t\t\t\tfreq: RRule.WEEKLY,\n\t\t\t\t\t\t\t\t\t\tdtstart: this.invite.dateRange.start.clone().toDate(),\n\t\t\t\t\t\t\t\t\t\tuntil: this.invite.dateRange.end.clone().toDate(),\n\t\t\t\t\t\t\t\t\t\tbyweekday: [RRule.MO, RRule.TU, RRule.WE, RRule.TH, RRule.FR],\n\t\t\t\t\t\t\t\t\t\tbyhour: [hour],\n\t\t\t\t\t\t\t\t\t\tbyminute: [minute],\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tlet av = { duration: minutes, rrule: rruleSet.toString() };\n\n\t\t\t\t\t\t\t\tif (!isAvailableExist(av)) availability.push(av);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tisValueAdded = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (rruleType == \"only\") {\n\t\t\t\t\t\t\tlet ruleWeekdayStr = this.momentFromRdate(rrule).locale(\"en\").format(\"dd\");\n\n\t\t\t\t\t\t\tif ([\"SA\", \"SU\"].includes(ruleWeekdayStr)) {\n\t\t\t\t\t\t\t\tif (!isAvailableExist(available)) availability.push(available);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (rruleType == \"all\") {\n\t\t\t\t\t\t\tif ([\"SA\", \"SU\"].includes(weekdays[0])) {\n\t\t\t\t\t\t\t\tif (!isAvailableExist(available)) availability.push(available);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.invite.availability = availability;\n\t\t\t},\n\n\t\t\tweekdaysFromRRuleString(rrule) {\n\t\t\t\tif (rrule.indexOf(\"BYDAY\") == -1) return [];\n\n\t\t\t\tlet match = rrule.match(/BYDAY=([^;]+)/);\n\n\t\t\t\treturn match[1].split(\",\");\n\t\t\t},\n\n\t\t\tmomentFromRdate(rdate) {\n\t\t\t\trdate = rdate.split(\":\")[1];\n\n\t\t\t\treturn this.$moment(rdate).utc();\n\t\t\t},\n\n\t\t\texDatesFromRRuleString(rrule) {\n\t\t\t\tif (rrule.indexOf(\"EXDATE\") == -1) return [];\n\n\t\t\t\tlet dates = rrule.split(\"EXDATE:\")[1];\n\n\t\t\t\tdates = dates.split(\",\");\n\n\t\t\t\treturn dates;\n\t\t\t},\n\n\t\t\tresetAvailability() {\n\t\t\t\tthis.invite.availability = [];\n\t\t\t},\n\n\t\t\tpreview() {\n\t\t\t\tthis.$store.commit(\"setInvite\", this.invite);\n\n\t\t\t\tthis.$nextTick(() => this.$refs.preview.open());\n\t\t\t},\n\n\t\t\tnext() {\n\t\t\t\tthis.$v.$touch();\n\n\t\t\t\tif (this.$v.$invalid) return;\n\n\t\t\t\tthis.$store.commit(\"setInvite\", this.invite);\n\n\t\t\t\tthis.$router.push(\"/create/group/options\");\n\t\t\t},\n\n\t\t\tback() {\n\t\t\t\tthis.$store.commit(\"setInvite\", this.invite);\n\n\t\t\t\tthis.$router.push(\"/create/group\");\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n//\n<style lang=\"scss\">\n\t.availability_btns_controls {\n\t\t.before_btn,\n\t\t.extend_btn,\n\t\t.after_btn {\n\t\t\tcolor: var(--primary);\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t\t&.disabled {\n\t\t\t\tpointer-events: none;\n\t\t\t\tcolor: #b6b6b6;\n\t\t\t\tcursor: default;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GroupWhen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GroupWhen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupWhen.vue?vue&type=template&id=7f26001f&\"\nimport script from \"./GroupWhen.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupWhen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GroupWhen.vue?vue&type=style&index=0&id=7f26001f&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","$t","on","preview","attrs","$event","preventDefault","next","apply","arguments","directives","name","rawName","value","expression","invite","duration","durationOptions","durationChanged","slot","durationPlaceholder","$bvModal","show","_e","staticStyle","slotIncrementOptions","model","slotIncrement","callback","$$v","$set","dayRangeValue","dateRangeOptions","dayRangeChanged","dateRangeStr","class","modifiers","style","preventConflict","disabled","isPrevBtnDisabled","prevDateRange","$isRtl","FDOL","format","isNextBtnDisabled","nextDateRange","EDOL","extendDateRange","timezone","_l","range","date","i","key","availableDates","openAvailabilityModal","back","dateRange","dateRangeChanged","ref","availableDateChanged","staticRenderFns","components","FormInput","FormTextArea","VirtualInput","CameraPlus","ZoomIcon","GoogleMeetIcon","URLModal","DurationModal","DateRangeModal","FormSelect","AvailabilityModal","TimeZones","NotAllowIcon","AvailableItem","PreviewInvite","mixins","data","type","start","end","availability","firstDateOfList","validations","required","watch","handler","available","singleDate","deep","computed","minutes","hours","clone","add","until","dates","rruleSet","get","set","methods","init","hourAndMinute","hour","minute","intervals","repeats","rrule","freq","dtstart","byweekday","byhour","byminute","isValueAdded","weekdays","rruleHasExclude","dateExStr","exDates","rruleType","weekdaysFromRRuleString","momentFromRdate","rdate","exDatesFromRRuleString","resetAvailability","component"],"sourceRoot":""}