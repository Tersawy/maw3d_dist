"use strict";(self["webpackChunkmawed"]=self["webpackChunkmawed"]||[]).push([[177],{6536:function(t,e,i){i.d(e,{Z:function(){return f}});var s=function(){var t=this,e=t._self._c;return t.invite.inviteID?e("b-card",{staticClass:"rounded-lg h-100",attrs:{"body-class":"pt-2 px-2 pb-2 pb-md-0"}},[e("div",{staticClass:"link-card pt-1 px-1 pb-1 pb-md-0 h-100 d-flex flex-column"},[e("div",{staticClass:"link-card-header d-flex align-items-center justify-content-between"},[e("div",{staticClass:"text-truncate"},[t.isOneOnMany?e("b-icon",{staticClass:"text-primary",attrs:{icon:"people","font-scale":"1.5"}}):e("b-icon",{staticClass:"text-primary",attrs:{icon:"person","font-scale":"1.5"}}),e("strong",{staticClass:"fs-sm mx-2"},[t._v(t._s(t.invite.name))])],1),e("div",{staticClass:"d-flex align-items-center"},[t.invite.imageInvite?e("div",[e("b-icon",{staticStyle:{color:"#bf7b2780"},attrs:{icon:"card-image","font-scale":"1.1",id:t.invite.inviteID.toString()}}),e("LinkImageTooltip",{attrs:{image:t.invite.imageInvite,target:t.invite.inviteID.toString()}})],1):t._e(),e("div",{staticClass:"d-block d-md-none"},[e("b-dropdown",{attrs:{variant:"link","toggle-class":"text-decoration-none p-0 box-shadow-none",right:"","no-caret":"","menu-class":"p-0 shadow border-0"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon ml-2",attrs:{title:t.$t("moreActions")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"three-dots-vertical","font-scale":"1.5"}})],1)]},proxy:!0}],null,!1,1899824767)},[t.isOneOnMany?t._e():e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"person-plus",width:"1em","font-scale":"1.4"}}),e("span",[t._v(t._s(t.$t("createPersonalizedInvite")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"},on:{click:t.copyLink}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"link",width:"1em","font-scale":"1.4"}}),e("span",[t._v(t._s(t.$t("copyLink")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3",to:{name:"editLinkIndexForm",params:{inviteId:t.invite.inviteID}}}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"pencil",width:"1em"}}),e("span",[t._v(t._s(t.$t("edit")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"files",width:"1em"}}),e("span",[t._v(t._s(t.$t("clone")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center",on:{click:t.onDelete}},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"trash",width:"1em"}}),e("span",[t._v(t._s(t.$t("delete")))])],1)])],1)],1)])]),e("div",{staticClass:"link-card-body ml-3 pl-2 fs-sm text-muted"},[e("div",{staticClass:"voted my-1"},[t._v(t._s(t.durationTxt))]),e("div",{staticClass:"my-1"},[t._v(t._s(t._f("toCapitalize")(t.locationName)))])]),e("div",{staticClass:"link-card-footer mt-auto py-3 d-none d-md-flex justify-content-end"},[t.isOneOnMany?t._e():e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mx-2",attrs:{title:t.$t("createPersonalizedInvite")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"person-plus","font-scale":"1.3"}})],1),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mx-2",attrs:{title:t.$t("copyLink")},on:{click:t.copyLink}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"link","font-scale":"1.8"}})],1),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mx-2",attrs:{title:t.$t("edit")},on:{click:function(e){return t.$router.push({name:"editLinkIndexForm",params:{inviteId:t.invite.inviteID}})}}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"pencil","font-scale":"1.3"}})],1),e("b-dropdown",{attrs:{variant:"link","toggle-class":"text-decoration-none p-0 box-shadow-none",right:"","no-caret":"","menu-class":"p-0 shadow border-0"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon ml-2",attrs:{title:t.$t("moreActions")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"three-dots-vertical","font-scale":"1.5"}})],1)]},proxy:!0}],null,!1,1899824767)},[e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"files",width:"1em"}}),e("span",[t._v(t._s(t.$t("clone")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center",on:{click:t.onDelete}},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"trash",width:"1em"}}),e("span",[t._v(t._s(t.$t("delete")))])],1)])],1)],1)])]):t._e()},n=[],a=function(){var t=this,e=t._self._c;return e("b-tooltip",{attrs:{target:t.target,triggers:"hover","custom-class":"link-image-tooltip","no-fade":""}},[e("img",{staticClass:"rounded",attrs:{src:t._image,width:"100%",height:"100%"}})])},o=[],r={props:{image:{type:String,required:!0},target:{type:String,required:!0}},computed:{_image(){return this.image?/https:\/[A-z0-9]/.test(this.image)?"https://"+this.image.slice(7):this.image:""}}},l=r,c=i(1001),d=(0,c.Z)(l,a,o,!1,null,null,null),m=d.exports,v=i(3673),p={components:{LinkImageTooltip:m},props:{invite:{type:Object,required:!0}},computed:{isOneOnMany(){return"oneOnMany"==this.invite.type},durationTxt(){let t=this.invite.duration;if(t<=30)return"30 min";let e=t/60,i=t%60;return 0==i?`${e} hr`:`${e.toString().split(".")[0]} hr ${i} min`},locationName(){let t=this.invite.location;if(!t?.type)return"";if("custom"==t.type)return t.text;let e=this.$store.state.invites.locationOptions.find((e=>e.type==t.type));return e?.name||""}},methods:{onDelete(){this.$emit("onDelete",this.invite)},copyLink(){let t=this.invite.url?.trim(""),e="https://soman-oman.com";e+=t?`/${this.$me.username}/${t}`:`/i/${this.invite.inviteID}`,(0,v.v)(e).then((()=>{this.$bvToast.toast(this.$t("copiedLinkToClipboard"),{noCloseButton:!0,toaster:"b-toaster-bottom-left",toastClass:"w-max-content px-4 bg-dark text-white"})}))}}},u=p,h=(0,c.Z)(u,s,n,!1,null,null,null),f=h.exports},6938:function(t,e,i){i.d(e,{Z:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("b-modal",{ref:t.id,attrs:{id:t.id,"hide-footer":"","hide-header":"","no-fade":"","no-close-on-esc":t.isBusy,"no-close-on-backdrop":t.isBusy,size:"md",centered:""}},[e("div",{staticClass:"text-center py-4 px-2"},[e("div",{staticClass:"text-danger pt-3 pb-4"},[e("TrashIcon",{staticStyle:{cursor:"auto"},attrs:{width:"80px",height:"80px"}})],1),e("h2",{staticClass:"delete-msg text-primary my-3"},[t._v(t._s(t.$t("actions.deleteMsg",{field:t.field})))]),e("p",{staticClass:"text-muted mb-4"},[t._v(t._s(t.$t("actions.cannotBeDone")))]),e("div",{staticClass:"d-flex text-center"},[e("b-btn",{ref:"cancelBtn",staticClass:"w-50 mr-3",attrs:{variant:"outline-primary",disabled:t.isBusy},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("actions.noCancel"))+" ")]),e("b-btn",{staticClass:"w-50 d-flex align-items-center justify-content-center",attrs:{variant:"danger",disabled:t.isBusy},on:{click:t.ok}},[e("span",[t._v(" "+t._s(t.$t("actions.yesDelete"))+" ")]),t.isBusy?e("b-spinner",{staticClass:"ml-2",attrs:{small:""}}):t._e()],1)],1)])])},n=[],a=function(){var t=this,e=t._self._c;return e("svg",t._g({staticStyle:{display:"inline-block",overflow:"visible","vertical-align":"-0.15rem",outline:"none",cursor:"pointer"},style:{transform:`scale(${t.scale})`},attrs:{viewBox:"0 0 16 16",width:t.width,height:t.height,fill:t.color,xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[e("g",{attrs:{transform:"translate(8 8) scale(1.5 1.5) translate(-8 -8)"}},[e("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])},o=[],r={props:{width:{type:String,default:"16px"},height:{type:String,default:"16px"},color:{type:String,default:"currentColor"},scale:{type:[String,Number],default:"1"}}},l=r,c=i(1001),d=(0,c.Z)(l,a,o,!1,null,null,null),m=d.exports;let v=t=>new Promise((e=>setTimeout(e,t)));var p={components:{TrashIcon:m},props:{field:{type:String,default:"field"}},data(){return{id:"deleteModal_",isBusy:!1,bridge:null}},created(){this.id=this.id+this._uid},methods:{open(t){this.bridge=t,this.$nextTick((async()=>{this.$bvModal.show(this.id),await v(50),this.popUpAnimation(),this.$refs.cancelBtn.focus()}))},close(){this.bridge=null,this.setBusy(!1),this.$nextTick((()=>this.$bvModal.hide(this.id)))},cancel(){this.$emit("cancel",this.bridge),this.close()},setBusy(t){this.isBusy=!!t},ok(){this.$emit("ok",this.bridge)},async popUpAnimation(t){t&&t.preventDefault();let e=this.$refs[this.id].$refs.content;e.style.transition="transform 0.2s ease",e.style.transform="scale(0.9)",await v(100),e.style.transform="none",await v(100),e.style.transform="scale(0.9)",await v(100),e.style.transform="none"}}},u=p,h=(0,c.Z)(u,s,n,!1,null,null,null),f=h.exports},3098:function(t,e,i){i.r(e),i.d(e,{default:function(){return C}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("b-container",[e("div",{staticClass:"header mt-4 d-flex w-100 align-items-center justify-content-between"},[e("div",[e("h5",{staticClass:"text-muted"},[t._v(t._s(t.$me.firstName)+" "+t._s(t.$me.lastName))]),e("a",{staticClass:"fs-sm text-decoration-none",attrs:{href:`https://mawed.net/${t.$me.username}`,target:"_blank"}},[e("span",[t._v("https://mawed.net/"+t._s(t.$me.username))]),e("b-icon",{staticClass:"mx-1",attrs:{icon:"box-arrow-up-right"}})],1)]),e("router-link",{staticClass:"btn-add-link rounded-pill shadow-lg d-flex align-items-center justify-content-center btn btn-lg",attrs:{to:"/create"}},[e("b-icon",{staticClass:"icon_add_link mr-2",attrs:{icon:"plus",scale:"1.7",variant:"primary"}}),e("span",{staticClass:"fs-md"},[t._v(" "+t._s(t.$t("newLink"))+" ")])],1)],1),e("div",{staticClass:"invites mt-5"},[e("div",{staticClass:"invites-header d-flex align-items-center justify-content-between"},[e("div",{staticClass:"d-flex align-items-center"},[e("h4",{staticClass:"m-0"},[t._v(t._s(t.$t("invites")))]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("invitiesTooltip")}},[e("b-icon",{staticClass:"fs-sm text-muted mx-1",attrs:{icon:"info-circle"}})],1)]),e("router-link",{staticClass:"fs-sm text-decoration-none",attrs:{to:"/invites"}},[t._v(t._s(t.$t("viewInvites")))])],1),e("div",{staticClass:"invites-body pt-4"},[e("b-row",{attrs:{cols:"1","cols-md":"2","cols-lg":"3"}},t._l(t.invites,(function(i){return e("b-col",{key:i.id,staticClass:"mb-4 h-auto"},[e("LinkInvite",{attrs:{invite:i},on:{onDelete:t.openDeleteInviteModal}})],1)})),1)],1)]),e("div",{staticClass:"event mt-5"},[e("div",{staticClass:"event-header d-flex align-items-center justify-content-between"},[e("div",{staticClass:"d-flex align-items-center"},[e("h4",{staticClass:"m-0"},[t._v(t._s(t.$t("upcomingEvents")))]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("eventsTooltip")}},[e("b-icon",{staticClass:"fs-sm text-muted mx-1",attrs:{icon:"info-circle"}})],1)]),e("router-link",{staticClass:"fs-sm text-decoration-none",attrs:{to:"/events"}},[t._v(t._s(t.$t("viewUpcomingEvents")))])],1),e("div",{staticClass:"event-body pt-4"},[t.events.length?e("b-row",{attrs:{cols:"1","cols-md":"2","cols-lg":"3"}},t._l(t.events,(function(t){return e("b-col",{key:t.id,staticClass:"mb-4 h-auto"},[e("LinkEvent",{attrs:{event:t}})],1)})),1):e("p",{staticClass:"lead text-muted fs-default"},[t._v(" "+t._s(t.$t("noUpcomingEvents"))+" ")])],1)])]),e("DeleteModal",{ref:"deleteModal",attrs:{field:t.$t("theLink")},on:{ok:t.confirmDelete}})],1)},n=[],a=function(){var t=this,e=t._self._c;return e("b-card",{staticClass:"rounded-lg h-100",attrs:{"body-class":"pt-2 px-2 pb-2 pb-md-0"}},[e("div",{staticClass:"link-card pt-1 px-1 pb-1 pb-md-0 h-100 d-flex flex-column"},[e("div",{staticClass:"link-card-header d-flex w-100 align-items-center justify-content-between"},[e("div",{staticClass:"text-truncate"},[e("b-icon",{staticClass:"text-primary",attrs:{icon:"calendar2-event","font-scale":"1.4"}}),e("router-link",{staticClass:"text-decoration-none text-dark mx-2",attrs:{to:{name:"event",params:{id:t.event.id}}}},[e("strong",{staticClass:"fs-sm"},[t._v(t._s(t.eventTitle))])])],1),e("div",{staticClass:"d-block d-md-none"},[e("b-dropdown",{attrs:{variant:"link","toggle-class":"text-decoration-none p-0 box-shadow-none",right:"","no-caret":"","menu-class":"p-0 shadow border-0"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon ml-2",attrs:{title:t.$t("moreActions")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"three-dots-vertical","font-scale":"1.5"}})],1)]},proxy:!0}])},[e("b-dropdown-item",{attrs:{"link-class":"p-3",to:{name:"event",params:{id:t.event.id}}}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"calendar2-date",width:"1em","font-scale":"1.4"}}),e("span",[t._v(t._s(t.$t("viewEventDetails")))])],1)]),t.isOneOnOne?e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"calendar2-event",width:"1em","font-scale":"1.4"}}),e("span",[t._v(t._s(t.$t("reschedule")))])],1)]):t._e(),e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"x-circle",width:"1em"}}),e("span",[t._v(t._s(t.$t("cancel")))])],1)])],1)],1)]),e("div",{staticClass:"link-card-body ml-3 pl-2 fs-sm text-muted"},[e("div",{staticClass:"voted my-1"},[t._v(t._s(t.eventDate))]),e("div",{staticClass:"my-1"},[t._v(t._s(t.eventFrom)+" - "+t._s(t.eventTo))])]),e("div",{staticClass:"link-card-footer mt-auto py-3 d-none d-md-flex justify-content-end"},[e("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mx-2",attrs:{title:t.$t("viewEventDetails"),to:{name:"event",params:{id:t.event.id}}}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"calendar2-date","font-scale":"1.5"}})],1),t.isOneOnOne?e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mr-2",attrs:{title:t.$t("reschedule")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"calendar2-event","font-scale":"1.5"}})],1):t._e(),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon",attrs:{title:t.$t("cancel")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"x-circle","font-scale":"1.5"}})],1)],1)])])},o=[],r={props:{event:{type:Object,required:!0}},computed:{eventDate(){let t=new Date(this.event.startDate);return t=t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),t},eventFrom(){let t=new Date(this.event.startDate);return t=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),t.toLowerCase()},eventTo(){let t=60*this.event.duration*1e3,e=new Date(this.event.startDate);return e=e.getTime()+t,e=new Date(e),e=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),e.toLowerCase()},isOneOnOne(){return"oneOnOne"==this.event.invite.type},eventTitle(){if(this.isOneOnOne){let t=this.event.invite.name,e=this.event.invitees.find((t=>!t.isGuest)).name,i=this.event.invite.user.firstName+" "+this.event.invite.user.lastName,s=this.$t("and");if("invitee_organizer"==this.event.invite.eventNameFormat)return`${e} ${s} ${i}`;if("invitee_organizer_name"==this.event.invite.eventNameFormat)return`${e} ${s} ${i}: ${t}`;if("name_invitee_organizer"==this.event.invite.eventNameFormat)return`${t}: ${e} ${s} ${i}`}return this.event.invite.name}}},l=r,c=i(1001),d=(0,c.Z)(l,a,o,!1,null,null,null),m=d.exports,v=i(6536),p=i(6938),u=i(3822),h=i(2003),f={components:{LinkEvent:m,LinkInvite:v.Z,DeleteModal:p.Z},async beforeRouteEnter(t,e,i){h.Z.commit("setAppLoading",!0);try{await Promise.all([h.Z.dispatch("getInvites","?perPage=6"),h.Z.dispatch("getEvents","?perPage=6")])}finally{h.Z.commit("setAppLoading",!1),i()}},computed:{invites(){return this.$store.getters.invites},events(){return this.$store.getters.events}},methods:{...(0,u.nv)(["getInvites","getEvents"]),openDeleteInviteModal(t){this.$refs.deleteModal.open(t)},async confirmDelete(t){this.$refs.deleteModal.setBusy(!0);try{await this.$store.dispatch("deleteInvite",t.inviteID),this.$store.state.invites.total>6&&await this.$store.dispatch("getInvites","?perPage=6")}finally{this.$refs.deleteModal.close()}}}},b=f,g=(0,c.Z)(b,s,n,!1,null,null,null),C=g.exports}}]);