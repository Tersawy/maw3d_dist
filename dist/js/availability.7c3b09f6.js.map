{"version":3,"file":"js/availability.7c3b09f6.js","mappings":"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","sources":["webpack://mawed/./src/components/Account.vue","webpack://mawed/src/components/Account.vue","webpack://mawed/./src/components/Account.vue?1f80","webpack://mawed/./src/components/Account.vue?a650","webpack://mawed/./src/views/account/Availability.vue","webpack://mawed/src/views/account/Availability.vue","webpack://mawed/./src/views/account/Availability.vue?b40c","webpack://mawed/./src/views/account/Availability.vue?2eb7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"account mt-5 position-relative\"},[_c('b-container',[_c('div',{staticClass:\"header mt-4\"},[_c('div',{staticClass:\"h3 mb-0\"},[_vm._v(_vm._s(_vm.$t(\"accountSettings\")))])]),_c('div',{staticClass:\"my-4 py-2\"},[_c('b-nav',{staticClass:\"custom_nav\",attrs:{\"fill\":\"\"}},_vm._l((_vm.tabs),function(tab){return _c('b-nav-item',{key:tab.value,attrs:{\"active\":_vm.isActive(tab),\"to\":tab.to}},[_vm._v(_vm._s(tab.title))])}),1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"9\"}},[_vm._t(\"default\")],2)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"account mt-5 position-relative\">\n\t\t<b-container>\n\t\t\t<div class=\"header mt-4\">\n\t\t\t\t<div class=\"h3 mb-0\">{{ $t(\"accountSettings\") }}</div>\n\t\t\t</div>\n\t\t\t<div class=\"my-4 py-2\">\n\t\t\t\t<b-nav fill class=\"custom_nav\">\n\t\t\t\t\t<b-nav-item v-for=\"tab in tabs\" :key=\"tab.value\" :active=\"isActive(tab)\" :to=\"tab.to\">{{ tab.title }}</b-nav-item>\n\t\t\t\t</b-nav>\n\t\t\t</div>\n\t\t\t<b-row>\n\t\t\t\t<b-col cols=\"12\" md=\"9\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</b-col>\n\t\t\t</b-row>\n\t\t</b-container>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tprops: {\n\t\t\tactiveTab: { type: String, default: \"general\" },\n\t\t},\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttabs: [\n\t\t\t\t\t{ title: this.$t(\"general\"), value: \"general\", isActive: true, to: \"/account\" },\n\t\t\t\t\t{ title: this.$t(\"calendars\"), value: \"calendars\", isActive: false, to: \"/account/calendars\" },\n\t\t\t\t\t{ title: this.$t(\"integrations\"), value: \"integrations\", isActive: false, to: \"/account/integrations\" },\n\t\t\t\t\t{ title: this.$t(\"availability\"), value: \"availability\", isActive: false, to: \"/account/availability\" },\n\t\t\t\t\t{ title: this.$t(\"contacts\"), value: \"contacts\", isActive: false, to: \"/account/contacts\" },\n\t\t\t\t],\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\t\t\tisActive(tab) {\n\t\t\t\treturn tab.value == this.activeTab;\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style lang=\"scss\">\n\t.custom_nav {\n\t\ta {\n\t\t\tborder-bottom: 2px solid transparent;\n\t\t\tcolor: #5e5e5e;\n\t\t\tfont-weight: 400;\n\t\t\tfont-size: 0.825rem;\n\t\t\t&.active {\n\t\t\t\tcolor: #007bff;\n\t\t\t\tborder-color: #007bff;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=c9a857ba&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&id=c9a857ba&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('account',{attrs:{\"activeTab\":\"availability\"}},[_c('section',[_c('div',{staticClass:\"field_title pt-1 mb-1 d-flex align-items-center\"},[_c('BIcon',{staticClass:\"mr-2\",attrs:{\"icon\":\"arrow-repeat\"}}),_c('div',{staticClass:\"title font-weight-500\"},[_vm._v(_vm._s(_vm.$t(\"defaultAvailability\")))])],1),_c('p',{staticClass:\"fs-sm text-muted\"},[_vm._v(_vm._s(_vm.$t(\"defaultAvailabilityDesc\")))]),_c('div',{staticClass:\"mt-3\"},[_c('div',{staticClass:\"mb-5\"},[_c('b-list-group',_vm._l((_vm.range),function(date,i){return _c('AvailableItem',{key:i,attrs:{\"date\":date,\"availableDates\":_vm.availableDates,\"dateFormat\":\"dddd\"},on:{\"click\":_vm.openAvailabilityModal}})}),1)],1)])]),_c('AvailabilityModal',{ref:\"availabilityModal\",attrs:{\"duration\":30,\"dateFormat\":\"dddd\",\"noRepeat\":\"\"},on:{\"submit\":_vm.availableDateChanged}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<account activeTab=\"availability\">\n\t\t<section>\n\t\t\t<div class=\"field_title pt-1 mb-1 d-flex align-items-center\">\n\t\t\t\t<BIcon icon=\"arrow-repeat\" class=\"mr-2\" />\n\t\t\t\t<div class=\"title font-weight-500\">{{ $t(\"defaultAvailability\") }}</div>\n\t\t\t</div>\n\t\t\t<p class=\"fs-sm text-muted\">{{ $t(\"defaultAvailabilityDesc\") }}</p>\n\t\t\t<div class=\"mt-3\">\n\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t<b-list-group>\n\t\t\t\t\t\t<AvailableItem v-for=\"(date, i) in range\" :key=\"i\" :date=\"date\" :availableDates=\"availableDates\" @click=\"openAvailabilityModal\" dateFormat=\"dddd\" />\n\t\t\t\t\t</b-list-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t\t<AvailabilityModal :duration=\"30\" ref=\"availabilityModal\" @submit=\"availableDateChanged\" dateFormat=\"dddd\" noRepeat />\n\t</account>\n</template>\n\n<script>\n\timport Account from \"@/components/Account\";\n\timport AvailableItem from \"@/components/AvailableItem\";\n\timport AvailabilityModal from \"@/components/modals/AvailabilityModal\";\n\n\timport { rrulestr } from \"rrule\";\n\n\texport default {\n\t\tcomponents: { Account, AvailableItem, AvailabilityModal },\n\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tavailability: [],\n\t\t\t};\n\t\t},\n\n\t\tmounted() {\n\t\t\tthis.availability = this.$me.defaultWeekAvailability.map((availabile) => {\n\t\t\t\tlet { rrule, duration } = availabile;\n\n\t\t\t\trrule = rrule.replace(/DTSTART:YYYYMMDDTHHmmssZ/g, \"DTSTART:\" + this.$moment().utc().startOf(\"week\").startOf(\"date\").locale(\"en\").format(\"YYYYMMDDTHHmmss\") + \"Z\");\n\n\t\t\t\trrule = rrule.replace(/UNTIL=YYYYMMDDTHHmmssZ/g, \"UNTIL=\" + this.$moment().utc().endOf(\"week\").startOf(\"date\").locale(\"en\").format(\"YYYYMMDDTHHmmss\") + \"Z\");\n\n\t\t\t\treturn { duration, rrule };\n\t\t\t});\n\t\t},\n\n\t\tcomputed: {\n\t\t\trange() {\n\t\t\t\tlet range = [];\n\t\t\t\tlet start = this.$moment().utc().startOf(\"week\").startOf(\"date\");\n\t\t\t\tlet end = this.$moment().utc().endOf(\"week\").startOf(\"date\");\n\t\t\t\tlet current = start.clone();\n\t\t\t\twhile (current <= end) {\n\t\t\t\t\trange.push(current.clone());\n\t\t\t\t\tcurrent.add(1, \"day\");\n\t\t\t\t}\n\t\t\t\treturn range;\n\t\t\t},\n\n\t\t\tavailableDates() {\n\t\t\t\tlet start = this.$moment().utc().startOf(\"week\").startOf(\"date\");\n\n\t\t\t\treturn this.availability.map((av) => {\n\t\t\t\t\tlet rruleSet = rrulestr(av.rrule);\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tduration: av.duration,\n\t\t\t\t\t\tdates: rruleSet.between(start.toDate(), start.clone().add(7, \"d\").toDate()),\n\t\t\t\t\t\trruleSet,\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\n\t\tmethods: {\n\t\t\topenAvailabilityModal(available) {\n\t\t\t\tthis.$refs.availabilityModal.show(available);\n\t\t\t},\n\n\t\t\tavailableDateChanged(value) {\n\t\t\t\tconsole.log(value);\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style lang=\"scss\"></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Availability.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Availability.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Availability.vue?vue&type=template&id=0f3eced2&\"\nimport script from \"./Availability.vue?vue&type=script&lang=js&\"\nexport * from \"./Availability.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","$t","attrs","_l","tabs","tab","key","value","isActive","to","title","_t","staticRenderFns","props","activeTab","type","default","data","methods","component","range","date","i","availableDates","on","openAvailabilityModal","ref","availableDateChanged","components","Account","AvailableItem","AvailabilityModal","availability","mounted","rrule","duration","computed","current","dates","rruleSet","console"],"sourceRoot":""}