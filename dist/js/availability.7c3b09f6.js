"use strict";(self["webpackChunkmawed"]=self["webpackChunkmawed"]||[]).push([[856],{8108:function(t,a,e){e.d(a,{Z:function(){return o}});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"account mt-5 position-relative"},[a("b-container",[a("div",{staticClass:"header mt-4"},[a("div",{staticClass:"h3 mb-0"},[t._v(t._s(t.$t("accountSettings")))])]),a("div",{staticClass:"my-4 py-2"},[a("b-nav",{staticClass:"custom_nav",attrs:{fill:""}},t._l(t.tabs,(function(e){return a("b-nav-item",{key:e.value,attrs:{active:t.isActive(e),to:e.to}},[t._v(t._s(e.title))])})),1)],1),a("b-row",[a("b-col",{attrs:{cols:"12",md:"9"}},[t._t("default")],2)],1)],1)],1)},l=[],s={props:{activeTab:{type:String,default:"general"}},data(){return{tabs:[{title:this.$t("general"),value:"general",isActive:!0,to:"/account"},{title:this.$t("calendars"),value:"calendars",isActive:!1,to:"/account/calendars"},{title:this.$t("integrations"),value:"integrations",isActive:!1,to:"/account/integrations"},{title:this.$t("availability"),value:"availability",isActive:!1,to:"/account/availability"},{title:this.$t("contacts"),value:"contacts",isActive:!1,to:"/account/contacts"}]}},methods:{isActive(t){return t.value==this.activeTab}}},n=s,r=e(1001),c=(0,r.Z)(n,i,l,!1,null,null,null),o=c.exports},8230:function(t,a,e){e.r(a),e.d(a,{default:function(){return m}});var i=function(){var t=this,a=t._self._c;return a("account",{attrs:{activeTab:"availability"}},[a("section",[a("div",{staticClass:"field_title pt-1 mb-1 d-flex align-items-center"},[a("BIcon",{staticClass:"mr-2",attrs:{icon:"arrow-repeat"}}),a("div",{staticClass:"title font-weight-500"},[t._v(t._s(t.$t("defaultAvailability")))])],1),a("p",{staticClass:"fs-sm text-muted"},[t._v(t._s(t.$t("defaultAvailabilityDesc")))]),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"mb-5"},[a("b-list-group",t._l(t.range,(function(e,i){return a("AvailableItem",{key:i,attrs:{date:e,availableDates:t.availableDates,dateFormat:"dddd"},on:{click:t.openAvailabilityModal}})})),1)],1)])]),a("AvailabilityModal",{ref:"availabilityModal",attrs:{duration:30,dateFormat:"dddd",noRepeat:""},on:{submit:t.availableDateChanged}})],1)},l=[],s=e(8108),n=e(2106),r=e(9290),c=e(6289),o={components:{Account:s.Z,AvailableItem:n.Z,AvailabilityModal:r.Z},data(){return{availability:[]}},mounted(){this.availability=this.$me.defaultWeekAvailability.map((t=>{let{rrule:a,duration:e}=t;return a=a.replace(/DTSTART:YYYYMMDDTHHmmssZ/g,"DTSTART:"+this.$moment().utc().startOf("week").startOf("date").locale("en").format("YYYYMMDDTHHmmss")+"Z"),a=a.replace(/UNTIL=YYYYMMDDTHHmmssZ/g,"UNTIL="+this.$moment().utc().endOf("week").startOf("date").locale("en").format("YYYYMMDDTHHmmss")+"Z"),{duration:e,rrule:a}}))},computed:{range(){let t=[],a=this.$moment().utc().startOf("week").startOf("date"),e=this.$moment().utc().endOf("week").startOf("date"),i=a.clone();while(i<=e)t.push(i.clone()),i.add(1,"day");return t},availableDates(){let t=this.$moment().utc().startOf("week").startOf("date");return this.availability.map((a=>{let e=(0,c.SA)(a.rrule);return{duration:a.duration,dates:e.between(t.toDate(),t.clone().add(7,"d").toDate()),rruleSet:e}}))}},methods:{openAvailabilityModal(t){this.$refs.availabilityModal.show(t)},availableDateChanged(t){console.log(t)}}},u=o,d=e(1001),v=(0,d.Z)(u,i,l,!1,null,null,null),m=v.exports}}]);
//# sourceMappingURL=availability.7c3b09f6.js.map