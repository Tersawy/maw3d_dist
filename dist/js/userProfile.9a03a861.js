"use strict";(self["webpackChunkmawed"]=self["webpackChunkmawed"]||[]).push([[873],{9131:function(t,e,i){i.d(e,{Z:function(){return h}});var s=function(){var t=this,e=t._self._c;return t.invite.inviteID?e("b-card",{staticClass:"rounded-lg h-100",attrs:{"body-class":"pt-2 px-2 pb-2 pb-md-0"}},[e("div",{staticClass:"link-card pt-1 px-1 pb-1 pb-md-0 h-100 d-flex flex-column"},[e("div",{staticClass:"link-card-header d-flex align-items-center justify-content-between"},[e("div",{staticClass:"text-truncate"},[t.isOneOnMany?e("b-icon",{staticClass:"text-primary",attrs:{icon:"people","font-scale":"1.5"}}):e("b-icon",{staticClass:"text-primary",attrs:{icon:"person","font-scale":"1.5"}}),e("strong",{staticClass:"fs-sm mx-2"},[t._v(t._s(t.invite.name))])],1),e("div",{staticClass:"d-flex align-items-center"},[t.invite.imageInvite?e("div",[e("b-icon",{staticStyle:{color:"#bf7b2780"},attrs:{icon:"card-image","font-scale":"1.1",id:t.invite.inviteID.toString()}}),e("LinkImageTooltip",{attrs:{image:t.inviteImage,target:t.invite.inviteID.toString()}})],1):t._e(),t.showControls?e("div",{staticClass:"d-block d-md-none"},[e("b-dropdown",{attrs:{variant:"link","toggle-class":"text-decoration-none p-0 box-shadow-none",right:"","no-caret":"","menu-class":"p-0 shadow border-0"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon ml-2",attrs:{title:t.$t("moreActions")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"three-dots-vertical","font-scale":"1.5"}})],1)]},proxy:!0}],null,!1,1899824767)},[t.isOneOnMany?t._e():e("b-dropdown-item",{attrs:{"link-class":"p-3",to:{name:"createEvent",params:t.eventParams}}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"person-plus",width:"1em","font-scale":"1.4"}}),e("span",[t._v(t._s(t.$t("createPersonalizedInvite")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"},on:{click:t.copyLink}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"link",width:"1em","font-scale":"1.4"}}),e("span",[t._v(t._s(t.$t("copyLink")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3",to:{name:"editLinkIndexForm",params:{inviteId:t.invite.inviteID}}}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"pencil",width:"1em"}}),e("span",[t._v(t._s(t.$t("edit")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"files",width:"1em"}}),e("span",[t._v(t._s(t.$t("clone")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center",on:{click:t.onDelete}},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"trash",width:"1em"}}),e("span",[t._v(t._s(t.$t("delete")))])],1)])],1)],1):t._e()])]),e("div",{staticClass:"link-card-body ml-3 pl-2 fs-sm text-muted"},[e("div",{staticClass:"voted my-1"},[t._v(t._s(t.durationTxt))]),e("div",{staticClass:"my-1"},[t._v(t._s(t._f("toCapitalize")(t.locationName)))])]),t.showControls?e("div",{staticClass:"link-card-footer mt-auto py-3 d-none d-md-flex justify-content-end"},[t.isOneOnMany?t._e():e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mx-2",attrs:{title:t.$t("createPersonalizedInvite")},on:{click:function(e){return t.$router.push({name:"createEvent",params:t.eventParams})}}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"person-plus","font-scale":"1.3"}})],1),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mx-2",attrs:{title:t.$t("copyLink")},on:{click:t.copyLink}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"link","font-scale":"1.8"}})],1),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon mx-2",attrs:{title:t.$t("edit")},on:{click:function(e){return t.$router.push({name:"editLinkIndexForm",params:{inviteId:t.invite.inviteID}})}}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"pencil","font-scale":"1.3"}})],1),e("b-dropdown",{attrs:{variant:"link","toggle-class":"text-decoration-none p-0 box-shadow-none",right:"","no-caret":"","menu-class":"p-0 shadow border-0"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn_icon ml-2",attrs:{title:t.$t("moreActions")}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"three-dots-vertical","font-scale":"1.5"}})],1)]},proxy:!0}],null,!1,1899824767)},[e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center"},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"files",width:"1em"}}),e("span",[t._v(t._s(t.$t("clone")))])],1)]),e("b-dropdown-item",{attrs:{"link-class":"p-3"}},[e("div",{staticClass:"d-flex align-items-center",on:{click:t.onDelete}},[e("b-icon",{staticClass:"mr-3",attrs:{icon:"trash",width:"1em"}}),e("span",[t._v(t._s(t.$t("delete")))])],1)])],1)],1):t._e()])]):t._e()},n=[],a=function(){var t=this,e=t._self._c;return e("b-tooltip",{attrs:{target:t.target,triggers:"hover","custom-class":"link-image-tooltip","no-fade":""}},[e("img",{staticClass:"rounded",attrs:{src:t._image,width:"100%",height:"100%"}})])},r=[],o=i(3673),l={props:{image:{type:String,required:!0},target:{type:String,required:!0}},computed:{_image(){return(0,o.$h)(this.image)}}},c=l,d=i(1001),m=(0,d.Z)(c,a,r,!1,null,null,null),p=m.exports,u={components:{LinkImageTooltip:p},props:{invite:{type:Object,required:!0},showControls:{type:Boolean,default:!0}},computed:{isOneOnMany(){return"oneOnMany"==this.invite.type},inviteImage(){return(0,o.$h)(this.invite.imageInvite)},durationTxt(){let t=this.invite.duration;if(t<=30)return"30 min";let e=t/60,i=t%60;return 0==i?`${e} hr`:`${e.toString().split(".")[0]} hr ${i} min`},locationName(){let t=this.invite.location;if(!t?.type)return"";if("custom"==t.type)return t.text;let e=this.$store.state.invites.locationOptions.find((e=>e.type==t.type));return e?.name||""},eventParams(){let t=this.invite.url?.trim("");return t?{username:this.$me.username,inviteId:t}:{username:"i",inviteId:this.invite.inviteID}}},methods:{onDelete(){this.$emit("onDelete",this.invite)},copyLink(){let t=this.invite.url?.trim(""),e="https://soman-oman.com";e+=t?`/${this.$me.username}/${t}`:`/i/${this.invite.inviteID}`,(0,o.vQ)(e).then((()=>{this.$bvToast.toast(this.$t("copiedLinkToClipboard"),{noCloseButton:!0,toaster:"b-toaster-bottom-left",toastClass:"w-max-content px-4 bg-dark text-white"})}))}}},v=u,f=(0,d.Z)(v,s,n,!1,null,null,null),h=f.exports},7865:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user_profile",style:`${t.imageCover}`},[t.$isLoggedIn?e("div",{staticClass:"p-2 text-muted d-flex align-items-center justify-content-center",staticStyle:{"background-color":"#e8f0fe"}},[e("span",{staticClass:"fs-sm"},[t._v(t._s(t.$t("viewAsOrganizer")))]),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"cursor-pointer",attrs:{title:t.$t("editProfile")},on:{click:function(e){return t.$router.push({name:"profileForm"})}}},[e("BIcon",{staticClass:"mx-3",attrs:{icon:"pencil",scale:"1.2"}})],1),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"cursor-pointer",attrs:{title:t.$t("home")},on:{click:function(e){return t.$router.push({name:"home"})}}},[e("BIcon",{attrs:{icon:"house-door",scale:"1.2"}})],1)]):t._e(),e("div",{staticClass:"profile_content"},[e("b-container",{staticClass:"profile_container"},[e("b-card",{staticClass:"p-5",staticStyle:{"background-color":"#ffffffe6","border-radius":"12px"},attrs:{"no-body":""}},[e("div",{staticClass:"d-flex align-items-center justify-content-center"},[e("b-avatar",{staticClass:"p-1 bg-white",attrs:{src:t.profileImage,size:"9rem"}}),e("h2",{staticClass:"mt-2 ml-4"},[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))])],1)]),e("b-card",{staticClass:"p-4 mt-5 border-0",staticStyle:{"background-color":"#ffffffe6","border-radius":"12px"},attrs:{"no-body":""}},[e("b-row",{attrs:{cols:"1","cols-md":"2"}},t._l(t.invites,(function(i,s){return e("b-col",{key:s},[e("div",{staticClass:"profile_invite",on:{click:function(e){return t.goToCreateEvent(i)}}},[e("LinkInvite",{staticClass:"pb-3",attrs:{invite:i,showControls:!1}})],1)])})),1)],1)],1)],1)])},n=[],a=i(2003),r=i(3673),o=i(9131),l={components:{LinkInvite:o.Z},async beforeRouteEnter(t,e,i){a.Z.commit("setAppLoading",!0);try{await a.Z.dispatch("getProfileData",t.params.username)}catch(s){i({name:"notFound"})}i()},mounted(){this.endAppLoading()},computed:{profileData(){return this.$store.state.profileData},profile(){return this.profileData.profile},invites(){return this.profileData.invites},user(){return this.profileData.user},intro(){return this.user.intro},imageCover(){return`background-image: linear-gradient(transparent 0%, 80%, white 100%), url(${(0,r.$h)(this.profile.imageCover)});`},profileImage(){return(0,r.$h)(this.profile.picture)}},methods:{goToCreateEvent(t){let e=t.url?.trim(""),i={username:"i",inviteId:t.inviteID};e&&(i.username=this.user.username,i.inviteId=e),this.$router.push({name:"createEvent",params:i})}}},c=l,d=i(1001),m=(0,d.Z)(c,s,n,!1,null,null,null),p=m.exports}}]);